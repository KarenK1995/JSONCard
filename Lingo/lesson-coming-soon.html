<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Lesson Coming Soon</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <main class="app coming-soon" aria-live="polite">
      <header class="hero">
        <span class="lesson-chip" data-lesson-chip>New lesson</span>
        <h1 data-heading>Coming soon</h1>
        <p class="primary-message" data-primary-message>
          We're putting the finishing touches on this lesson. It will be available
          very soon — thanks for your patience!
        </p>
      </header>

      <section aria-label="Translations">
        <div class="cards-grid" data-translations></div>
      </section>

      <footer>
        <span>
          <strong>The General Apps</strong> · Learning made friendly on every
          device.
        </span>
        <span>
          Have feedback? Let us know so we can build the perfect lesson for
          you.
        </span>
      </footer>
    </main>

    <script>
      const translations = [
        {
          code: "en",
          label: "English",
          headline: "Coming soon",
          text:
            "We're putting the finishing touches on this lesson. It will be available very soon — thanks for your patience!",
          dir: "ltr",
        },
        {
          code: "ru",
          label: "Русский",
          headline: "Скоро доступно",
          text:
            "Мы завершаем работу над этим уроком. Он скоро появится — спасибо за ваше терпение!",
          dir: "ltr",
        },
        {
          code: "uk",
          label: "Українська",
          headline: "Незабаром доступно",
          text:
            "Ми завершуємо роботу над цим уроком. Він незабаром з’явиться — дякуємо за терпіння!",
          dir: "ltr",
        },
        {
          code: "es",
          label: "Español",
          headline: "Disponible pronto",
          text:
            "Estamos ultimando los detalles de esta lección. Estará disponible muy pronto. ¡Gracias por tu paciencia!",
          dir: "ltr",
        },
        {
          code: "fr",
          label: "Français",
          headline: "Bientôt disponible",
          text:
            "Nous peaufinons cette leçon. Elle sera disponible très bientôt — merci pour votre patience !",
          dir: "ltr",
        },
        {
          code: "ar",
          label: "العربية",
          headline: "قريبًا متاح",
          text:
            "نضع اللمسات الأخيرة على هذا الدرس. سيكون متاحًا قريبًا جدًا – شكرًا على صبرك!",
          dir: "rtl",
        },
        {
          code: "tr",
          label: "Türkçe",
          headline: "Çok yakında",
          text:
            "Bu dersin son rötuşlarını yapıyoruz. Çok yakında hazır olacak — sabrınız için teşekkürler!",
          dir: "ltr",
        },
        {
          code: "it",
          label: "Italiano",
          headline: "Disponibile a breve",
          text:
            "Stiamo rifinendo questa lezione. Sarà disponibile a breve: grazie per la tua pazienza!",
          dir: "ltr",
        },
        {
          code: "ro",
          label: "Română",
          headline: "Disponibil în curând",
          text:
            "Punem la punct ultimele detalii pentru această lecție. Va fi disponibilă în curând — îți mulțumim pentru răbdare!",
          dir: "ltr",
        },
        {
          code: "sv",
          label: "Svenska",
          headline: "Kommer snart",
          text:
            "Vi finputsar den här lektionen. Den blir tillgänglig snart – tack för ditt tålamod!",
          dir: "ltr",
        },
        {
          code: "pt",
          label: "Português",
          headline: "Em breve",
          text:
            "Estamos dando os toques finais nesta lição. Ela estará disponível em breve — obrigado pela paciência!",
          dir: "ltr",
        },
        {
          code: "ko",
          label: "한국어",
          headline: "곧 만나요",
          text:
            "이 강의를 마무리하고 있어요. 곧 제공될 예정이니 조금만 기다려 주세요!",
          dir: "ltr",
        },
        {
          code: "ja",
          label: "日本語",
          headline: "まもなく公開",
          text:
            "このレッスンは仕上げの段階です。まもなく公開されますので、もう少しだけお待ちください！",
          dir: "ltr",
        },
        {
          code: "nl",
          label: "Nederlands",
          headline: "Binnenkort beschikbaar",
          text:
            "We leggen de laatste hand aan deze les. Hij is binnenkort beschikbaar — bedankt voor je geduld!",
          dir: "ltr",
        },
        {
          code: "zh",
          label: "中文",
          headline: "即将上线",
          text:
            "我们正在为这节课做最后的准备。很快就会上线，谢谢你的耐心等待！",
          dir: "ltr",
        },
        {
          code: "hr",
          label: "Hrvatski",
          headline: "Uskoro dostupno",
          text:
            "Dovršavamo ovu lekciju. Bit će dostupna uskoro – hvala na strpljenju!",
          dir: "ltr",
        },
        {
          code: "hy",
          label: "Հայերեն",
          headline: "Շուտով հասանելի",
          text:
            "Մենք ավարտին ենք հասցնում այս դասը։ Այն շուտով հասանելի կլինի՝ շնորհակալություն համբերության համար։",
          dir: "ltr",
        },
      ];

      const params = new URLSearchParams(window.location.search);
      const requestedLang = (
        params.get("ln") || params.get("lang") || "en"
      ).toLowerCase();
      const lessonId = params.get("lesson") || "";
      const lessonTitle = params.get("title") || "";

      const chip = document.querySelector("[data-lesson-chip]");
      const heading = document.querySelector("[data-heading]");
      const primaryMessage = document.querySelector("[data-primary-message]");
      const translationsContainer = document.querySelector(
        "[data-translations]"
      );

      const activeTranslation =
        translations.find((item) => item.code === requestedLang) || translations[0];

      document.documentElement.lang = activeTranslation.code;
      document.body.dir = activeTranslation.dir;

      if (lessonId && lessonTitle) {
        chip.textContent = `${lessonId} · ${lessonTitle}`;
      } else if (lessonTitle) {
        chip.textContent = lessonTitle;
      } else if (lessonId) {
        chip.textContent = `Lesson ${lessonId}`;
      } else {
        chip.textContent = "Lesson coming soon";
      }

      heading.textContent = activeTranslation.headline || "Coming soon";

      primaryMessage.textContent = activeTranslation.text;

      if (lessonTitle) {
        document.title = `${lessonTitle} · ${heading.textContent}`;
      } else {
        document.title = `${heading.textContent} · The General Apps`;
      }

      const card = document.createElement("article");
      card.className = "translation-card translation-card--active";
      card.setAttribute("lang", activeTranslation.code);
      card.dir = activeTranslation.dir;

      const title = document.createElement("h2");
      title.textContent = activeTranslation.label;

      const message = document.createElement("p");
      message.textContent = activeTranslation.text;

      card.appendChild(title);
      card.appendChild(message);
      translationsContainer.appendChild(card);

    </script>
  </body>
</html>
